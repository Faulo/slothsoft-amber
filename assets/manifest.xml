<?xml version="1.0"?>
<assets xmlns="http://schema.slothsoft.net/farah/module">
	<resource-directory name="cli" type="application/vnd.microsoft.portable-executable" />
	<resource-directory name="css" type="text/css" />
	<resource-directory name="js" type="application/javascript" />
	<resource-directory name="xsl" type="application/xslt+xml" />

	<resource-directory name="dictionary" type="application/xml" />
	<directory name="schema">
		<resource-directory name="amberdata" type="application/x-xsd+xml" />
	</directory>
	<directory name="games">
		<directory name="ambermoon">
			<resource-directory name="release" type="*/*" />
			<resource-directory name="source" type="*/*" />
			<resource-directory name="infoset" type="application/xml" />
			<resource-directory name="convert" type="application/xslt+xml" />
		</directory>
		<resource name="index" type="application/xml" />
	</directory>

	<fragment name="game-resources">
		<custom-asset name="dataset" executable-builder="Slothsoft\Amber\ResourceAssets\DatasetBuilder"
			parameter-filter="Slothsoft\Amber\ResourceAssets\DatasetParameterFilter" />
		<custom-asset name="amberdata" executable-builder="Slothsoft\Amber\ResourceAssets\AmberdataBuilder"
			parameter-filter="Slothsoft\Amber\ResourceAssets\AmberdataParameterFilter" />
		<custom-asset name="gfx" executable-builder="Slothsoft\Amber\ResourceAssets\GfxBuilder"
			parameter-filter="Slothsoft\Amber\ResourceAssets\GfxParameterFilter" />
		<custom-asset name="stylesheet" executable-builder="Slothsoft\Amber\ResourceAssets\StylesheetBuilder"
			parameter-filter="Slothsoft\Amber\ResourceAssets\StylesheetParameterFilter" />
	</fragment>

	<fragment name="html">
		<fragment name="description">
			<use-template ref="/xsl/description" name="description" />
			<use-document ref="//farah/sites" name="sites" />
			<import ref="/api/default" name="default" />
			<import ref="/api/MapViewer" name="MapViewer" />
			<import ref="/api/DungeonViewer" name="DungeonViewer" />
		</fragment>
		<fragment name="editor">
			<use-template ref="/xsl/editor" />
			<import ref="/api/default" name="default" />
			<import ref="/api/SavegameEditor" name="SavegameEditor" />

		</fragment>
		<fragment name="resource">
			<use-template ref="/xsl/editor.data-list" name="editor.data-list" />
			<use-document ref="/editor/resource/amberdata" name="list" />
			<import ref="/api/default" name="default" />
			<import ref="/api/SavegameEditor" name="SavegameEditor" />
			<import ref="/api/MapViewer" name="MapViewer" />
			<import ref="/api/DungeonViewer" name="DungeonViewer" />
		</fragment>
	</fragment>

	<fragment name="api">
		<fragment name="default">
			<link-stylesheet ref="/css/default" name="default" />
			<link-stylesheet ref="/css/amber-picker" name="amber-picker" />
		</fragment>
		<fragment name="SavegameEditor">
			<!-- <custom-asset name="editor" executable-builder="Slothsoft\Amber\Assets\EditorBuilder" parameter-filter="Slothsoft\Amber\Assets\EditorParameterFilter"/> -->
			<use-document name="editor" ref="/game-resources/dataset?id=save-editor" />
			<use-document name="amberdata" ref="/game-resources/amberdata?id=dictionaries" />
			<import ref="//core/api/XSLT" name="XSLT" />
			<link-script ref="/js/SavegameEditor" name="SavegameEditor" />
		</fragment>
		<fragment name="MapViewer">
			<link-script ref="/js/MapViewer" name="MapViewer" />
			<link-script ref="/js/pixijs/pixi.min" name="pixi.min" />
		</fragment>
		<fragment name="DungeonViewer">
			<link-script ref="/js/DungeonViewer" name="DungeonViewer" />
			<link-script ref="/js/babylonjs/babylon.custom" name="babylon.custom" />
		</fragment>
	</fragment>




	<!-- <resource-directory name="pages" path="pages" type="application/xml"/> <resource-directory name="data" path="data" 
		type="application/x-php"/> <directory name="static"> <resource name="sites.mod" path="sites.mod.xml" type="application/xml"/> 
		<resource name="editor" path="editor.xml" type="application/xml"/> <resource name="config" path="config.json" type="application/json"/> 
		<resource name="charStruc" path="charStruc.xml" type="application/xml"/> <resource name="partyStruc" path="partyStruc.xml" 
		type="application/xml"/> <resource name="AmbermoonSavegame" path="ambermoon/structure.xml" type="application/xml"/> <resource 
		name="items-map" path="AmbermoonItems.png" type="image/png"/> <resource name="portraits-map" path="AmbermoonPortraits.png" 
		type="image/png"/> <resource name="AmbermoonItems" path="ambermoon\Thalion-v1.05-DE\lib\items.xml" type="application/xml"/> 
		<resource name="AmbermoonPortraits" path="AmbermoonPortraits.xml" type="application/xml"/> <resource-directory name="saves" 
		path="save" type="application/octet-stream"/> <resource-directory name="portraits" path="portraits" type="image/png"/> <resource-directory 
		name="items" path="items" type="image/png"/> <resource-directory name="tilesets" path="tilesets" type="image/png"/> <resource-directory 
		name="monster-gfx" path="monster-gfx" type="image/png"/> <resource-directory name="patch" path="patches" type="*/*"/> </directory> -->
</assets>
